<div class="row justify-content-start">
    <div class="col-3 offset-md-2 ">
        <h2 >New Issue</h2>
    </div>
</div>
<hr>

<div class="row mt-5">
    <div class="col-sm-12">
        <form [formGroup]="newIssueForm">
            <div class="row form-group">
                <label for="fName" class="col-sm-2 input-sm col-form-label text-sm-right" >Issue Type</label>
                <div class="col-sm-4 ">
                    <select class="form-control form-control-sm" formControlName="issueTypesCtrl"  id="issueTypesCtrl" (change) = "onSelect($event.target.options)">
                        <option value="0">Select one</option>
                        <option *ngFor = "let issue of issueTypes; let i = index"  [value]="issue.issueTypeId">{{issue.issueTypeDescr}}</option>
                        
                    </select>
                </div>
                <div class="alert alert-danger" *ngIf = "(f.issueTypesCtrl.touched) && (f.issueTypesCtrl.invalid)"   
                            style="margin-top: 5px;">  
                        <span *ngIf="f.issueTypesCtrl.errors.required">Issue Type is Required</span>                   
                </div>
            </div>
            <!-- <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 input-sm col-form-label text-right">Password</label>
                <div class="col-sm-4 ">
                <input type="password" class="form-control form-control-sm" id="inputPassword" placeholder="Password">
                </div>
            </div> -->
            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 input-sm col-form-label text-sm-right">Description</label>
                <div class="col-sm-4 ">
                <textarea rows="5" maxlength="240" class="form-control form-control-sm" 
                        formControlName="issueDescr"  id="issueDescr"  
                        placeholder="please write a brief statement about the issue"></textarea>
                </div>
                <div class="alert alert-danger" *ngIf = "(f.issueDescr.touched) && (f.issueDescr.invalid)"   
                            style="margin-top: 5px;">  
                        <span *ngIf="f.issueDescr.errors.required">Description is Required</span>   
                        <span *ngIf = "f.issueDescr.errors.minlength">   
                            MinLength Error   
                        </span>                
                </div>
            </div>
            <!-- <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 input-sm col-form-label text-right">issueStatus</label>
                <div class="col-sm-4 ">
                <input type="password" class="form-control form-control-sm" id="inputPassword" placeholder="Password">
                </div>
            </div> -->
            <div class="row">
                <div class="col-sm-2 offset-sm-2">
                    <button class="btn btn-secondary btn-sm btn-block" (click)="AddNewIssue()"   [disabled]="!newIssueForm.valid">Submit </button>
                </div>
                <div class="col-sm-2">
                    <button type="button" class="btn btn-sm btn-block btn btn-secondary mr-3" (click)="onBackToIssuesList()">
                        Back 
                    </button>
                </div>
                
            </div>
        </form>
    </div>
</div>
